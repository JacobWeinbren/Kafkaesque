---
const { posts } = Astro.props;

const colors = ["bg-green-500", "bg-emerald-500", "bg-teal-500", "bg-lime-500"];

function getColor(index) {
	return colors[index % colors.length];
}
---

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
	{
		posts.map((post, index) => (
			<a href={`/post/${post.slug}`} class="block snap">
				<article
					class={`${getColor(index)} rounded-lg p-6 h-[300px] flex flex-col`}
				>
					<time class="text-white/70 text-sm">
						{new Date(post.published_at).toLocaleDateString()}
					</time>
					<h2 class="text-2xl font-bold text-white mt-2 mb-4">
						{post.title}
					</h2>
					<p class="text-white/90 flex-grow">{post.excerpt}</p>
				</article>
			</a>
		))
	}
</div>
