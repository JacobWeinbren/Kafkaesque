---
import BaseLayout from "@/components/layout/BaseLayout.astro";
import { getPosts } from "@/lib/hashnode";
import BlogPosts from "@/components/blog/BlogPosts.svelte";

// Get initial posts on the server
const {
	posts: initialPosts,
	hasMore: initialHasMore,
	endCursor: initialEndCursor,
} = await getPosts({ limit: 9 });
---

<BaseLayout
	title="Blog â€“ Jacob Weinbren"
	description="Modern insights on coding and GIS."
>
	<section class="relative overflow-hidden">
		<div
			class="absolute inset-0 bg-gradient-to-br from-green-600 via-green-500 to-green-800"
		>
		</div>
		<div
			class="absolute inset-0 opacity-10 bg-[radial-gradient(#fff_1px,transparent_1px)] bg-[length:20px_20px]"
		>
		</div>
		<div class="relative max-w-7xl mx-auto px-6 py-24 text-center">
			<span
				class="inline-block px-4 py-1.5 bg-white/10 backdrop-blur-sm text-green-50 tracking-wide mb-4 rounded-full font-medium"
				>INSIGHTS & THOUGHTS</span
			>
			<h1
				class="text-5xl md:text-6xl font-bold text-white mb-4 font-display"
			>
				Blog
			</h1>
			<p class="text-xl md:text-2xl text-white/90 max-w-2xl mx-auto">
				Insights on modern development and spatial data.
			</p>
		</div>
	</section>

	<section class="max-w-7xl mx-auto px-6 py-16">
		<!-- Svelte component for blog posts -->
		<BlogPosts
			client:load
			initialPosts={initialPosts}
			initialHasMore={initialHasMore}
			initialEndCursor={initialEndCursor}
		/>
	</section>
</BaseLayout>
